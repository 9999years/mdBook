<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Builder` struct in crate `ammonia`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Builder">

    <title>ammonia::Builder - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle">
    
    <link rel="stylesheet" type="text/css" href="../dark.css">
    <link rel="stylesheet" type="text/css" href="../main.css" id="themeStyle">
    <script src="../storage.js"></script>
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <div class="sidebar-menu">&#9776;</div>
        
        <p class='location'>Struct Builder</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.tags">tags</a><a href="#method.add_tags">add_tags</a><a href="#method.rm_tags">rm_tags</a><a href="#method.clone_tags">clone_tags</a><a href="#method.clean_content_tags">clean_content_tags</a><a href="#method.add_clean_content_tags">add_clean_content_tags</a><a href="#method.rm_clean_content_tags">rm_clean_content_tags</a><a href="#method.clone_clean_content_tags">clone_clean_content_tags</a><a href="#method.tag_attributes">tag_attributes</a><a href="#method.add_tag_attributes">add_tag_attributes</a><a href="#method.rm_tag_attributes">rm_tag_attributes</a><a href="#method.clone_tag_attributes">clone_tag_attributes</a><a href="#method.generic_attributes">generic_attributes</a><a href="#method.add_generic_attributes">add_generic_attributes</a><a href="#method.rm_generic_attributes">rm_generic_attributes</a><a href="#method.clone_generic_attributes">clone_generic_attributes</a><a href="#method.url_schemes">url_schemes</a><a href="#method.add_url_schemes">add_url_schemes</a><a href="#method.rm_url_schemes">rm_url_schemes</a><a href="#method.clone_url_schemes">clone_url_schemes</a><a href="#method.url_relative">url_relative</a><a href="#method.is_url_relative_deny">is_url_relative_deny</a><a href="#method.is_url_relative_pass_through">is_url_relative_pass_through</a><a href="#method.is_url_relative_custom">is_url_relative_custom</a><a href="#method.link_rel">link_rel</a><a href="#method.get_link_rel">get_link_rel</a><a href="#method.allowed_classes">allowed_classes</a><a href="#method.add_allowed_classes">add_allowed_classes</a><a href="#method.rm_allowed_classes">rm_allowed_classes</a><a href="#method.clone_allowed_classes">clone_allowed_classes</a><a href="#method.strip_comments">strip_comments</a><a href="#method.will_strip_comments">will_strip_comments</a><a href="#method.id_prefix">id_prefix</a><a href="#method.new">new</a><a href="#method.clean">clean</a><a href="#method.clean_from_reader">clean_from_reader</a></div><a class="sidebar-title" href="#implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-Debug">Debug</a><a href="#impl-Default">Default</a></div></div><p class='location'><a href='index.html'>ammonia</a></p><script>window.sidebarCurrent = {name: 'Builder', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div>
    </nav>

    <div class="theme-picker">
        <button id="theme-picker" aria-label="Pick another theme!">
            <img src="../brush.svg" width="18" alt="Pick another theme!">
        </button>
        <div id="theme-choices"></div>
    </div>
    <script src="../theme.js"></script>
    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>ammonia</a>::<wbr><a class="struct" href=''>Builder</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/ammonia/lib.rs.html#238-249' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Builder&lt;'a&gt; { /* fields omitted */ }</pre><div class='docblock'><p>An HTML sanitizer.</p>
<p>Given a fragment of HTML, Ammonia will parse it according to the HTML5
parsing algorithm and sanitize any disallowed tags or attributes. This
algorithm also takes care of things like unclosed and (some) misnested
tags.</p>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::{<span class="ident">Builder</span>, <span class="ident">UrlRelative</span>};

<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">link_rel</span>(<span class="prelude-val">None</span>)
    .<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">PassThrough</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;a href=/&gt;test&quot;</span>)
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(
    <span class="ident">a</span>,
    <span class="string">&quot;&lt;a href=\&quot;/\&quot;&gt;test&lt;/a&gt;&quot;</span>);</pre>
<h1 id="panics" class="section-header"><a href="#panics">Panics</a></h1>
<p>Running <a href="#method.clean"><code>clean</code></a> or <a href="#method.clean_from_reader"><code>clean_from_reader</code></a> may cause a panic if the builder is
configured with any of these (contradictory) settings:</p>
<ul>
<li>
<p>The <code>rel</code> attribute is added to <a href="#method.generic_attributes"><code>generic_attributes</code></a> or the
<a href="#method.tag_attributes"><code>tag_attributes</code></a> for the <code>&lt;a&gt;</code> tag, and <a href="#method.link_rel"><code>link_rel</code></a> is not set to <code>None</code>.</p>
<p>For example, this is going to panic, since <a href="#method.link_rel"><code>link_rel</code></a> is set  to
<code>Some(&quot;noopener noreferrer&quot;)</code> by default,
and it makes no sense to simultaneously say that the user is allowed to
set their own <code>rel</code> attribute while saying that every link shall be set to
a particular value:</p>

<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">generic_attributes</span>(<span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;rel&quot;</span>])
    .<span class="ident">clean</span>(<span class="string">&quot;&quot;</span>);</pre>
<p>This, however, is perfectly valid:</p>

<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">generic_attributes</span>(<span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;rel&quot;</span>])
    .<span class="ident">link_rel</span>(<span class="prelude-val">None</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&quot;</span>);</pre>
</li>
<li>
<p>The <code>class</code> attribute is in <a href="#method.allowed_classes"><code>allowed_classes</code></a> and is in the
corresponding <a href="#method.tag_attributes"><code>tag_attributes</code></a> or in <a href="#method.generic_attributes"><code>generic_attributes</code></a>.</p>
<p>This is done both to line up with the treatment of <code>rel</code>,
and to prevent people from accidentally allowing arbitrary
classes on a particular element.</p>
<p>This will panic:</p>

<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">generic_attributes</span>(<span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;class&quot;</span>])
    .<span class="ident">allowed_classes</span>(<span class="macro">hashmap</span><span class="macro">!</span>[<span class="string">&quot;span&quot;</span> <span class="op">=&gt;</span> <span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;hidden&quot;</span>]])
    .<span class="ident">clean</span>(<span class="string">&quot;&quot;</span>);</pre>
<p>This, however, is perfectly valid:</p>

<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">allowed_classes</span>(<span class="macro">hashmap</span><span class="macro">!</span>[<span class="string">&quot;span&quot;</span> <span class="op">=&gt;</span> <span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;hidden&quot;</span>]])
    .<span class="ident">clean</span>(<span class="string">&quot;&quot;</span>);</pre>
</li>
<li>
<p>A tag is in either <a href="#method.tags"><code>tags</code></a> or <a href="#method.tag_attributes"><code>tag_attributes</code></a> while also
being in <a href="#method.clean_content_tags"><code>clean_content_tags</code></a>.</p>
<p>Both <a href="#method.tags"><code>tags</code></a> and <a href="#method.tag_attributes"><code>tag_attributes</code></a> are whitelists but
<a href="#method.clean_content_tags"><code>clean_content_tags</code></a> is a blacklist, so it doesn't make sense
to have the same tag in both.</p>
<p>For example, this will panic, since the <code>aside</code> tag is in
<a href="#method.tags"><code>tags</code></a> by default:</p>

<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;
 
<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;
 
<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">clean_content_tags</span>(<span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;aside&quot;</span>])
    .<span class="ident">clean</span>(<span class="string">&quot;&quot;</span>);</pre>
<p>This, however, is valid:</p>

<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;
 
<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;
 
<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">rm_tags</span>(<span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;aside&quot;</span>))
    .<span class="ident">clean_content_tags</span>(<span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;aside&quot;</span>])
    .<span class="ident">clean</span>(<span class="string">&quot;&quot;</span>);</pre>
</li>
</ul>
</div>
                    <h2 id='methods' class='small-section-header'>
                      Methods<a href='#methods' class='anchor'></a>
                    </h2>
                <h3 id='impl' class='impl'><span class='in-band'><code>impl&lt;'a&gt; <a class="struct" href="../ammonia/struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</code><a href='#impl' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#348-1376' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.tags' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='tags.v' class='invisible'><code>pub fn <a href='#method.tags' class='fnname'>tags</a>(&amp;mut self, value: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#381-384' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the tags that are allowed.</p>
<h1 id="examples-1" class="section-header"><a href="#examples-1">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">tags</span> <span class="op">=</span> <span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;my-tag&quot;</span>];
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>()
    .<span class="ident">tags</span>(<span class="ident">tags</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;my-tag&gt;&quot;</span>)
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">a</span>, <span class="string">&quot;&lt;my-tag&gt;&lt;/my-tag&gt;&quot;</span>);</pre>
<h1 id="defaults" class="section-header"><a href="#defaults">Defaults</a></h1>
<pre><code class="language-notest">a, abbr, acronym, area, article, aside, b, bdi,
bdo, blockquote, br, caption, center, cite, code,
col, colgroup, data, dd, del, details, dfn, div,
dl, dt, em, figcaption, figure, footer, h1, h2,
h3, h4, h5, h6, header, hgroup, hr, i, img,
ins, kbd, kbd, li, map, mark, nav, ol, p, pre,
q, rp, rt, rtc, ruby, s, samp, small, span,
strike, strong, sub, summary, sup, table, tbody,
td, th, thead, time, tr, tt, u, ul, var, wbr
</code></pre>
</div><h4 id='method.add_tags' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='add_tags.v' class='invisible'><code>pub fn <a href='#method.add_tags' class='fnname'>add_tags</a>&lt;I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(&amp;mut self, it: I) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#396-399' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Add additonal whitelisted tags without overwriting old ones.</p>
<p>Does nothing if the tag is already there.</p>
<h1 id="examples-2" class="section-header"><a href="#examples-2">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">add_tags</span>(<span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;my-tag&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;my-tag&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&lt;my-tag&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.rm_tags' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='rm_tags.v' class='invisible'><code>pub fn <a href='#method.rm_tags' class='fnname'>rm_tags</a>&lt;'b, I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'b <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(&amp;mut self, it: I) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#411-416' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Remove already-whitelisted tags.</p>
<p>Does nothing if the tags is already gone.</p>
<h1 id="examples-3" class="section-header"><a href="#examples-3">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">rm_tags</span>(<span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;span&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;span&gt;&lt;/span&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.clone_tags' class="method"><span id='clone_tags.v' class='invisible'><code>pub fn <a href='#method.clone_tags' class='fnname'>clone_tags</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#426-428' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns a copy of the set of whitelisted tags.</p>
<h1 id="examples-4" class="section-header"><a href="#examples-4">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">tags</span> <span class="op">=</span> [<span class="string">&quot;my-tag-1&quot;</span>, <span class="string">&quot;my-tag-2&quot;</span>].<span class="ident">into_iter</span>().<span class="ident">cloned</span>().<span class="ident">collect</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>();
<span class="ident">b</span>.<span class="ident">tags</span>(<span class="ident">Clone</span>::<span class="ident">clone</span>(<span class="kw-2">&amp;</span><span class="ident">tags</span>));
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">tags</span>, <span class="ident">b</span>.<span class="ident">clone_tags</span>());</pre>
</div><h4 id='method.clean_content_tags' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='clean_content_tags.v' class='invisible'><code>pub fn <a href='#method.clean_content_tags' class='fnname'>clean_content_tags</a>(&amp;mut self, value: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#455-458' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the tags whose contents will be completely removed from the output.</p>
<p>Adding tags which are whitelisted in <code>tags</code> or <code>tag_attributes</code> will cause
a panic.</p>
<h1 id="examples-5" class="section-header"><a href="#examples-5">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">tag_blacklist</span> <span class="op">=</span> <span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;script&quot;</span>, <span class="string">&quot;style&quot;</span>];
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>()
    .<span class="ident">clean_content_tags</span>(<span class="ident">tag_blacklist</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;script&gt;alert(&#39;hello&#39;)&lt;/script&gt;&lt;style&gt;a { background: #fff }&lt;/style&gt;&quot;</span>)
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">a</span>, <span class="string">&quot;&quot;</span>);</pre>
<h1 id="defaults-1" class="section-header"><a href="#defaults-1">Defaults</a></h1>
<p>No tags have content removed by default.</p>
</div><h4 id='method.add_clean_content_tags' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='add_clean_content_tags.v' class='invisible'><code>pub fn <a href='#method.add_clean_content_tags' class='fnname'>add_clean_content_tags</a>&lt;I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;it: I<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#473-476' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Add additonal blacklisted clean-content tags without overwriting old ones.</p>
<p>Does nothing if the tag is already there.</p>
<p>Adding tags which are whitelisted in <code>tags</code> or <code>tag_attributes</code> will cause
a panic.</p>
<h1 id="examples-6" class="section-header"><a href="#examples-6">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">add_clean_content_tags</span>(<span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;my-tag&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;my-tag&gt;test&lt;/my-tag&gt;&lt;span&gt;mess&lt;/span&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&lt;span&gt;mess&lt;/span&gt;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.rm_clean_content_tags' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='rm_clean_content_tags.v' class='invisible'><code>pub fn <a href='#method.rm_clean_content_tags' class='fnname'>rm_clean_content_tags</a>&lt;'b, I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'b <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;it: I<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#497-502' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Remove already-blacklisted clean-content tags.</p>
<p>Does nothing if the tags aren't blacklisted.</p>
<h1 id="examples-7" class="section-header"><a href="#examples-7">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">tag_blacklist</span> <span class="op">=</span> <span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;script&quot;</span>];
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">clean_content_tags</span>(<span class="ident">tag_blacklist</span>)
    .<span class="ident">rm_clean_content_tags</span>(<span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;script&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;script&gt;XSS&lt;/script&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;XSS&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.clone_clean_content_tags' class="method"><span id='clone_clean_content_tags.v' class='invisible'><code>pub fn <a href='#method.clone_clean_content_tags' class='fnname'>clone_clean_content_tags</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#512-514' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns a copy of the set of blacklisted clean-content tags.</p>
<h1 id="examples-8" class="section-header"><a href="#examples-8">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">tags</span> <span class="op">=</span> [<span class="string">&quot;my-tag-1&quot;</span>, <span class="string">&quot;my-tag-2&quot;</span>].<span class="ident">into_iter</span>().<span class="ident">cloned</span>().<span class="ident">collect</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>();
<span class="ident">b</span>.<span class="ident">clean_content_tags</span>(<span class="ident">Clone</span>::<span class="ident">clone</span>(<span class="kw-2">&amp;</span><span class="ident">tags</span>));
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">tags</span>, <span class="ident">b</span>.<span class="ident">clone_clean_content_tags</span>());</pre>
</div><h4 id='method.tag_attributes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='tag_attributes.v' class='invisible'><code>pub fn <a href='#method.tag_attributes' class='fnname'>tag_attributes</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;value: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#581-584' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the HTML attributes that are allowed on specific tags.</p>
<p>The value is structured as a map from tag names to a set of attribute names.</p>
<p>If a tag is not itself whitelisted, adding entries to this map will do nothing.</p>
<h1 id="examples-9" class="section-header"><a href="#examples-9">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">tags</span> <span class="op">=</span> <span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;my-tag&quot;</span>];
<span class="kw">let</span> <span class="ident">tag_attributes</span> <span class="op">=</span> <span class="macro">hashmap</span><span class="macro">!</span>[
    <span class="string">&quot;my-tag&quot;</span> <span class="op">=&gt;</span> <span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;val&quot;</span>]
];
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>().<span class="ident">tags</span>(<span class="ident">tags</span>).<span class="ident">tag_attributes</span>(<span class="ident">tag_attributes</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;my-tag val=1&gt;&quot;</span>)
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">a</span>, <span class="string">&quot;&lt;my-tag val=\&quot;1\&quot;&gt;&lt;/my-tag&gt;&quot;</span>);</pre>
<h1 id="defaults-2" class="section-header"><a href="#defaults-2">Defaults</a></h1>
<pre><code class="language-notest">a =&gt;
    href, hreflang
bdo =&gt;
    dir
blockquote =&gt;
    cite
col =&gt;
    align, char, charoff, span
colgroup =&gt;
    align, char, charoff, span
del =&gt;
    cite, datetime
hr =&gt;
    align, size, width
img =&gt;
    align, alt, height, src, width
ins =&gt;
    cite, datetime
ol =&gt;
    start
q =&gt;
    cite
table =&gt;
    align, char, charoff, summary
tbody =&gt;
    align, char, charoff
td =&gt;
    align, char, charoff, colspan, headers, rowspan
tfoot =&gt;
    align, char, charoff
th =&gt;
    align, char, charoff, colspan, headers, rowspan, scope
thead =&gt;
    align, char, charoff
tr =&gt;
    align, char, charoff
</code></pre>
</div><h4 id='method.add_tag_attributes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='add_tag_attributes.v' class='invisible'><code>pub fn <a href='#method.add_tag_attributes' class='fnname'>add_tag_attributes</a>&lt;I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;tag: &amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;it: I<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#595-598' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Add additonal whitelisted tag-specific attributes without overwriting old ones.</p>
<h1 id="examples-10" class="section-header"><a href="#examples-10">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">add_tags</span>(<span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;my-tag&quot;</span>))
    .<span class="ident">add_tag_attributes</span>(<span class="string">&quot;my-tag&quot;</span>, <span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;my-attr&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;my-tag my-attr&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&lt;my-tag my-attr=\&quot;\&quot;&gt;test&lt;/my-tag&gt; &lt;span&gt;mess&lt;/span&gt;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.rm_tag_attributes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='rm_tag_attributes.v' class='invisible'><code>pub fn <a href='#method.rm_tag_attributes' class='fnname'>rm_tag_attributes</a>&lt;'b, 'c, I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'b <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;tag: &amp;'c <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;it: I<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#610-617' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Remove already-whitelisted tag-specific attributes.</p>
<p>Does nothing if the attribute is already gone.</p>
<h1 id="examples-11" class="section-header"><a href="#examples-11">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">rm_tag_attributes</span>(<span class="string">&quot;a&quot;</span>, <span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;href&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;a href=\&quot;/\&quot;&gt;&lt;/a&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&lt;a rel=\&quot;noopener noreferrer\&quot;&gt;&lt;/a&gt;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.clone_tag_attributes' class="method"><span id='clone_tag_attributes.v' class='invisible'><code>pub fn <a href='#method.clone_tag_attributes' class='fnname'>clone_tag_attributes</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#629-631' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns a copy of the set of whitelisted tag-specific attributes.</p>
<h1 id="examples-12" class="section-header"><a href="#examples-12">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">tag_attributes</span> <span class="op">=</span> <span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(
    (<span class="string">&quot;my-tag&quot;</span>, [<span class="string">&quot;my-attr-1&quot;</span>, <span class="string">&quot;my-attr-2&quot;</span>].<span class="ident">into_iter</span>().<span class="ident">cloned</span>().<span class="ident">collect</span>())
).<span class="ident">collect</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>();
<span class="ident">b</span>.<span class="ident">tag_attributes</span>(<span class="ident">Clone</span>::<span class="ident">clone</span>(<span class="kw-2">&amp;</span><span class="ident">tag_attributes</span>));
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">tag_attributes</span>, <span class="ident">b</span>.<span class="ident">clone_tag_attributes</span>());</pre>
</div><h4 id='method.generic_attributes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='generic_attributes.v' class='invisible'><code>pub fn <a href='#method.generic_attributes' class='fnname'>generic_attributes</a>(&amp;mut self, value: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#657-660' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the attributes that are allowed on any tag.</p>
<h1 id="examples-13" class="section-header"><a href="#examples-13">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">attributes</span> <span class="op">=</span> <span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;data-val&quot;</span>];
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>()
    .<span class="ident">generic_attributes</span>(<span class="ident">attributes</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;b data-val=1&gt;&quot;</span>)
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">a</span>, <span class="string">&quot;&lt;b data-val=\&quot;1\&quot;&gt;&lt;/b&gt;&quot;</span>);</pre>
<h1 id="defaults-3" class="section-header"><a href="#defaults-3">Defaults</a></h1>
<pre><code class="language-notest">lang, title
</code></pre>
</div><h4 id='method.add_generic_attributes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='add_generic_attributes.v' class='invisible'><code>pub fn <a href='#method.add_generic_attributes' class='fnname'>add_generic_attributes</a>&lt;I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;it: I<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#670-673' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Add additonal whitelisted attributes without overwriting old ones.</p>
<h1 id="examples-14" class="section-header"><a href="#examples-14">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">add_generic_attributes</span>(<span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;my-attr&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;span my-attr&gt;mess&lt;/span&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&lt;span my-attr=\&quot;\&quot;&gt;mess&lt;/span&gt;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.rm_generic_attributes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='rm_generic_attributes.v' class='invisible'><code>pub fn <a href='#method.rm_generic_attributes' class='fnname'>rm_generic_attributes</a>&lt;'b, I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'b <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;it: I<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#685-690' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Remove already-whitelisted attributes.</p>
<p>Does nothing if the attribute is already gone.</p>
<h1 id="examples-15" class="section-header"><a href="#examples-15">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">rm_generic_attributes</span>(<span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;title&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;span title=\&quot;cool\&quot;&gt;&lt;/span&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&lt;span&gt;&lt;/span&gt;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.clone_generic_attributes' class="method"><span id='clone_generic_attributes.v' class='invisible'><code>pub fn <a href='#method.clone_generic_attributes' class='fnname'>clone_generic_attributes</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#700-702' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns a copy of the set of whitelisted attributes.</p>
<h1 id="examples-16" class="section-header"><a href="#examples-16">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">generic_attributes</span> <span class="op">=</span> [<span class="string">&quot;my-attr-1&quot;</span>, <span class="string">&quot;my-attr-2&quot;</span>].<span class="ident">into_iter</span>().<span class="ident">cloned</span>().<span class="ident">collect</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>();
<span class="ident">b</span>.<span class="ident">generic_attributes</span>(<span class="ident">Clone</span>::<span class="ident">clone</span>(<span class="kw-2">&amp;</span><span class="ident">generic_attributes</span>));
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">generic_attributes</span>, <span class="ident">b</span>.<span class="ident">clone_generic_attributes</span>());</pre>
</div><h4 id='method.url_schemes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='url_schemes.v' class='invisible'><code>pub fn <a href='#method.url_schemes' class='fnname'>url_schemes</a>(&amp;mut self, value: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#736-739' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the URL schemes permitted on <code>href</code> and <code>src</code> attributes.</p>
<h1 id="examples-17" class="section-header"><a href="#examples-17">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">url_schemes</span> <span class="op">=</span> <span class="macro">hashset</span><span class="macro">!</span>[
    <span class="string">&quot;http&quot;</span>, <span class="string">&quot;https&quot;</span>, <span class="string">&quot;mailto&quot;</span>, <span class="string">&quot;magnet&quot;</span>
];
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>().<span class="ident">url_schemes</span>(<span class="ident">url_schemes</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;a href=\&quot;magnet:?xt=urn:ed2k:31D6CFE0D16AE931B73C59D7E0C089C0&amp;xl=0&amp;dn=zero_len.fil&amp;xt=urn:bitprint:3I42H3S6NNFQ2MSVX7XZKYAYSCX5QBYJ.LWPNACQDBZRYXW3VHJVCJ64QBZNGHOHHHZWCLNQ&amp;xt=urn:md5:D41D8CD98F00B204E9800998ECF8427E\&quot;&gt;zero-length file&lt;/a&gt;&quot;</span>)
    .<span class="ident">to_string</span>();

<span class="comment">// See `link_rel` for information on the rel=&quot;noopener noreferrer&quot; attribute</span>
<span class="comment">// in the cleaned HTML.</span>
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">a</span>,
  <span class="string">&quot;&lt;a href=\&quot;magnet:?xt=urn:ed2k:31D6CFE0D16AE931B73C59D7E0C089C0&amp;amp;xl=0&amp;amp;dn=zero_len.fil&amp;amp;xt=urn:bitprint:3I42H3S6NNFQ2MSVX7XZKYAYSCX5QBYJ.LWPNACQDBZRYXW3VHJVCJ64QBZNGHOHHHZWCLNQ&amp;amp;xt=urn:md5:D41D8CD98F00B204E9800998ECF8427E\&quot; rel=\&quot;noopener noreferrer\&quot;&gt;zero-length file&lt;/a&gt;&quot;</span>);</pre>
<h1 id="defaults-4" class="section-header"><a href="#defaults-4">Defaults</a></h1>
<pre><code class="language-notest">bitcoin, ftp, ftps, geo, http, https, im, irc,
ircs, magnet, mailto, mms, mx, news, nntp,
openpgp4fpr, sip, sms, smsto, ssh, tel, url,
webcal, wtai, xmpp
</code></pre>
</div><h4 id='method.add_url_schemes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='add_url_schemes.v' class='invisible'><code>pub fn <a href='#method.add_url_schemes' class='fnname'>add_url_schemes</a>&lt;I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;it: I<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#749-752' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Add additonal whitelisted URL schemes without overwriting old ones.</p>
<h1 id="examples-18" class="section-header"><a href="#examples-18">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">add_url_schemes</span>(<span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;my-scheme&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;a href=my-scheme:home&gt;mess&lt;/span&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&lt;a href=\&quot;my-scheme:home\&quot; rel=\&quot;noopener noreferrer\&quot;&gt;mess&lt;/a&gt;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.rm_url_schemes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='rm_url_schemes.v' class='invisible'><code>pub fn <a href='#method.rm_url_schemes' class='fnname'>rm_url_schemes</a>&lt;'b, I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'b <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;it: I<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#764-769' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Remove already-whitelisted attributes.</p>
<p>Does nothing if the attribute is already gone.</p>
<h1 id="examples-19" class="section-header"><a href="#examples-19">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">rm_url_schemes</span>(<span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;ftp&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;a href=\&quot;ftp://ftp.mozilla.org/\&quot;&gt;&lt;/a&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&lt;a rel=\&quot;noopener noreferrer\&quot;&gt;&lt;/a&gt;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.clone_url_schemes' class="method"><span id='clone_url_schemes.v' class='invisible'><code>pub fn <a href='#method.clone_url_schemes' class='fnname'>clone_url_schemes</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#779-781' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns a copy of the set of whitelisted URL schemes.</p>
<h1 id="examples-20" class="section-header"><a href="#examples-20">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">url_schemes</span> <span class="op">=</span> [<span class="string">&quot;my-scheme-1&quot;</span>, <span class="string">&quot;my-scheme-2&quot;</span>].<span class="ident">into_iter</span>().<span class="ident">cloned</span>().<span class="ident">collect</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>();
<span class="ident">b</span>.<span class="ident">url_schemes</span>(<span class="ident">Clone</span>::<span class="ident">clone</span>(<span class="kw-2">&amp;</span><span class="ident">url_schemes</span>));
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">url_schemes</span>, <span class="ident">b</span>.<span class="ident">clone_url_schemes</span>());</pre>
</div><h4 id='method.url_relative' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='url_relative.v' class='invisible'><code>pub fn <a href='#method.url_relative' class='fnname'>url_relative</a>(&amp;mut self, value: <a class="enum" href="../ammonia/enum.UrlRelative.html" title="enum ammonia::UrlRelative">UrlRelative</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#804-807' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Configures the behavior for relative URLs: pass-through, resolve-with-base, or deny.</p>
<h1 id="examples-21" class="section-header"><a href="#examples-21">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::{<span class="ident">Builder</span>, <span class="ident">UrlRelative</span>};

<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>().<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">PassThrough</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;a href=/&gt;Home&lt;/a&gt;&quot;</span>)
    .<span class="ident">to_string</span>();

<span class="comment">// See `link_rel` for information on the rel=&quot;noopener noreferrer&quot; attribute</span>
<span class="comment">// in the cleaned HTML.</span>
<span class="macro">assert_eq</span><span class="macro">!</span>(
  <span class="ident">a</span>,
  <span class="string">&quot;&lt;a href=\&quot;/\&quot; rel=\&quot;noopener noreferrer\&quot;&gt;Home&lt;/a&gt;&quot;</span>);</pre>
<h1 id="defaults-5" class="section-header"><a href="#defaults-5">Defaults</a></h1>
<pre><code class="language-notest">UrlRelative::PassThrough
</code></pre>
</div><h4 id='method.is_url_relative_deny' class="method"><span id='is_url_relative_deny.v' class='invisible'><code>pub fn <a href='#method.is_url_relative_deny' class='fnname'>is_url_relative_deny</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#819-821' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns <code>true</code> if the relative URL resolver is set to <code>Deny</code>.</p>
<h1 id="examples-22" class="section-header"><a href="#examples-22">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::{<span class="ident">Builder</span>, <span class="ident">UrlRelative</span>};
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">default</span>();
<span class="ident">a</span>.<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">Deny</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">a</span>.<span class="ident">is_url_relative_deny</span>());
<span class="ident">a</span>.<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">PassThrough</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="op">!</span><span class="ident">a</span>.<span class="ident">is_url_relative_deny</span>());</pre>
</div><h4 id='method.is_url_relative_pass_through' class="method"><span id='is_url_relative_pass_through.v' class='invisible'><code>pub fn <a href='#method.is_url_relative_pass_through' class='fnname'>is_url_relative_pass_through</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#833-835' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns <code>true</code> if the relative URL resolver is set to <code>PassThrough</code>.</p>
<h1 id="examples-23" class="section-header"><a href="#examples-23">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::{<span class="ident">Builder</span>, <span class="ident">UrlRelative</span>};
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">default</span>();
<span class="ident">a</span>.<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">Deny</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="op">!</span><span class="ident">a</span>.<span class="ident">is_url_relative_pass_through</span>());
<span class="ident">a</span>.<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">PassThrough</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">a</span>.<span class="ident">is_url_relative_pass_through</span>());</pre>
</div><h4 id='method.is_url_relative_custom' class="method"><span id='is_url_relative_custom.v' class='invisible'><code>pub fn <a href='#method.is_url_relative_custom' class='fnname'>is_url_relative_custom</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#854-856' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns <code>true</code> if the relative URL resolver is set to <code>Custom</code>.</p>
<h1 id="examples-24" class="section-header"><a href="#examples-24">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::{<span class="ident">Builder</span>, <span class="ident">UrlRelative</span>};
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">borrow</span>::<span class="ident">Cow</span>;
<span class="kw">fn</span> <span class="ident">test</span>(<span class="ident">a</span>: <span class="kw-2">&amp;</span><span class="ident">str</span>) <span class="op">-&gt;</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">Cow</span><span class="op">&lt;</span><span class="ident">str</span><span class="op">&gt;&gt;</span> { <span class="prelude-val">None</span> }
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">default</span>();
<span class="ident">a</span>.<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">Custom</span>(<span class="ident">Box</span>::<span class="ident">new</span>(<span class="ident">test</span>)));
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">a</span>.<span class="ident">is_url_relative_custom</span>());
<span class="ident">a</span>.<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">PassThrough</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="op">!</span><span class="ident">a</span>.<span class="ident">is_url_relative_custom</span>());
<span class="ident">a</span>.<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">Deny</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="op">!</span><span class="ident">a</span>.<span class="ident">is_url_relative_custom</span>());</pre>
</div><h4 id='method.link_rel' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='link_rel.v' class='invisible'><code>pub fn <a href='#method.link_rel' class='fnname'>link_rel</a>(&amp;mut self, value: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#894-897' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Configures a <code>rel</code> attribute that will be added on links.</p>
<p>If <code>rel</code> is in the generic or tag attributes, this must be set to <code>None</code>.
Common <code>rel</code> values to include:</p>
<ul>
<li><code>noopener</code>: This prevents <a href="https://mathiasbynens.github.io/rel-noopener/">a particular type of XSS attack</a>,
and should usually be turned on for untrusted HTML.</li>
<li><code>noreferrer</code>: This prevents the browser from <a href="https://en.wikipedia.org/wiki/HTTP_referer">sending the source URL</a>
to the website that is linked to.</li>
<li><code>nofollow</code>: This prevents search engines from <a href="https://en.wikipedia.org/wiki/Nofollow">using this link for
ranking</a>, which disincentivizes spammers.</li>
</ul>
<p>To turn on rel-insertion, call this function with a space-separated list.
Ammonia does not parse rel-attributes;
it just puts the given string into the attribute directly.</p>
<h1 id="examples-25" class="section-header"><a href="#examples-25">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>().<span class="ident">link_rel</span>(<span class="prelude-val">None</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;a href=https://rust-lang.org/&gt;Rust&lt;/a&gt;&quot;</span>)
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(
  <span class="ident">a</span>,
  <span class="string">&quot;&lt;a href=\&quot;https://rust-lang.org/\&quot;&gt;Rust&lt;/a&gt;&quot;</span>);</pre>
<h1 id="defaults-6" class="section-header"><a href="#defaults-6">Defaults</a></h1>
<pre><code class="language-notest">Some(&quot;noopener noreferrer&quot;)
</code></pre>
</div><h4 id='method.get_link_rel' class="method"><span id='get_link_rel.v' class='invisible'><code>pub fn <a href='#method.get_link_rel' class='fnname'>get_link_rel</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#907-909' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns the settings for links' <code>rel</code> attribute, if one is set.</p>
<h1 id="examples-26" class="section-header"><a href="#examples-26">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::{<span class="ident">Builder</span>, <span class="ident">UrlRelative</span>};
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">default</span>();
<span class="ident">a</span>.<span class="ident">link_rel</span>(<span class="prelude-val">Some</span>(<span class="string">&quot;a b&quot;</span>));
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">a</span>.<span class="ident">get_link_rel</span>(), <span class="prelude-val">Some</span>(<span class="string">&quot;a b&quot;</span>));</pre>
</div><h4 id='method.allowed_classes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='allowed_classes.v' class='invisible'><code>pub fn <a href='#method.allowed_classes' class='fnname'>allowed_classes</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;value: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#942-945' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sets the CSS classes that are allowed on specific tags.</p>
<p>The values is structured as a map from tag names to a set of class names.</p>
<p>If the <code>class</code> attribute is itself whitelisted for a tag, then adding entries to
this map will cause a panic.</p>
<h1 id="examples-27" class="section-header"><a href="#examples-27">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">allowed_classes</span> <span class="op">=</span> <span class="macro">hashmap</span><span class="macro">!</span>[
    <span class="string">&quot;code&quot;</span> <span class="op">=&gt;</span> <span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;rs&quot;</span>, <span class="string">&quot;ex&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;cxx&quot;</span>, <span class="string">&quot;js&quot;</span>]
];
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>()
    .<span class="ident">allowed_classes</span>(<span class="ident">allowed_classes</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;code class=rs&gt;fn main() {}&lt;/code&gt;&quot;</span>)
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(
  <span class="ident">a</span>,
  <span class="string">&quot;&lt;code class=\&quot;rs\&quot;&gt;fn main() {}&lt;/code&gt;&quot;</span>);</pre>
<h1 id="defaults-7" class="section-header"><a href="#defaults-7">Defaults</a></h1>
<p>The set of allowed classes is empty by default.</p>
</div><h4 id='method.add_allowed_classes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='add_allowed_classes.v' class='invisible'><code>pub fn <a href='#method.add_allowed_classes' class='fnname'>add_allowed_classes</a>&lt;I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;tag: &amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;it: I<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#955-958' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Add additonal whitelisted classes without overwriting old ones.</p>
<h1 id="examples-28" class="section-header"><a href="#examples-28">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">add_allowed_classes</span>(<span class="string">&quot;a&quot;</span>, <span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;onebox&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;a href=/ class=onebox&gt;mess&lt;/span&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&lt;a href=\&quot;/\&quot; class=\&quot;onebox\&quot; rel=\&quot;noopener noreferrer\&quot;&gt;mess&lt;/a&gt;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.rm_allowed_classes' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='rm_allowed_classes.v' class='invisible'><code>pub fn <a href='#method.rm_allowed_classes' class='fnname'>rm_allowed_classes</a>&lt;'b, 'c, I:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&lt;Item = &amp;'b <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;tag: &amp;'c <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;it: I<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#971-978' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Remove already-whitelisted attributes.</p>
<p>Does nothing if the attribute is already gone.</p>
<h1 id="examples-29" class="section-header"><a href="#examples-29">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>()
    .<span class="ident">add_allowed_classes</span>(<span class="string">&quot;span&quot;</span>, <span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;active&quot;</span>))
    .<span class="ident">rm_allowed_classes</span>(<span class="string">&quot;span&quot;</span>, <span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(<span class="string">&quot;active&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;span class=active&gt;&quot;</span>).<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="string">&quot;&lt;span class=\&quot;\&quot;&gt;&lt;/span&gt;&quot;</span>, <span class="ident">a</span>);</pre>
</div><h4 id='method.clone_allowed_classes' class="method"><span id='clone_allowed_classes.v' class='invisible'><code>pub fn <a href='#method.clone_allowed_classes' class='fnname'>clone_allowed_classes</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#990-992' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns a copy of the set of whitelisted class attributes.</p>
<h1 id="examples-30" class="section-header"><a href="#examples-30">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">allowed_classes</span> <span class="op">=</span> <span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">once</span>(
    (<span class="string">&quot;my-tag&quot;</span>, [<span class="string">&quot;my-class-1&quot;</span>, <span class="string">&quot;my-class-2&quot;</span>].<span class="ident">into_iter</span>().<span class="ident">cloned</span>().<span class="ident">collect</span>())
).<span class="ident">collect</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">default</span>();
<span class="ident">b</span>.<span class="ident">allowed_classes</span>(<span class="ident">Clone</span>::<span class="ident">clone</span>(<span class="kw-2">&amp;</span><span class="ident">allowed_classes</span>));
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">allowed_classes</span>, <span class="ident">b</span>.<span class="ident">clone_allowed_classes</span>());</pre>
</div><h4 id='method.strip_comments' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='strip_comments.v' class='invisible'><code>pub fn <a href='#method.strip_comments' class='fnname'>strip_comments</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#1012-1015' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Configures the handling of HTML comments.</p>
<p>If this option is false, comments will be preserved.</p>
<h1 id="examples-31" class="section-header"><a href="#examples-31">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>().<span class="ident">strip_comments</span>(<span class="bool-val">false</span>)
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;!-- yes --&gt;&quot;</span>)
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(
  <span class="ident">a</span>,
  <span class="string">&quot;&lt;!-- yes --&gt;&quot;</span>);</pre>
<h1 id="defaults-8" class="section-header"><a href="#defaults-8">Defaults</a></h1>
<p><code>true</code></p>
</div><h4 id='method.will_strip_comments' class="method"><span id='will_strip_comments.v' class='invisible'><code>pub fn <a href='#method.will_strip_comments' class='fnname'>will_strip_comments</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#1026-1028' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns <code>true</code> if comment stripping is turned on.</p>
<h1 id="examples-32" class="section-header"><a href="#examples-32">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>::<span class="ident">new</span>();
<span class="ident">a</span>.<span class="ident">strip_comments</span>(<span class="bool-val">true</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="ident">a</span>.<span class="ident">will_strip_comments</span>());
<span class="ident">a</span>.<span class="ident">strip_comments</span>(<span class="bool-val">false</span>);
<span class="macro">assert</span><span class="macro">!</span>(<span class="op">!</span><span class="ident">a</span>.<span class="ident">will_strip_comments</span>());</pre>
</div><h4 id='method.id_prefix' class="method"><div class="important-traits"><div class='tooltip'>ⓘ<span class='tooltiptext'>Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</span></div><div class="content hidden"><h3 class="important">Important traits for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R</h3><code class="content"><span class="where fmt-newline">impl&lt;'a, R&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>W <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;'a, I&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>I <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href='https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item' class="type">Item</a> = &lt;I as <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html" title="trait core::iter::iterator::Iterator">Iterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/nightly/core/iter/iterator/trait.Iterator.html#associatedtype.Item" title="type core::iter::iterator::Iterator::Item">Item</a>;</span></code></div></div><span id='id_prefix.v' class='invisible'><code>pub fn <a href='#method.id_prefix' class='fnname'>id_prefix</a>(&amp;mut self, value: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#1055-1058' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Prefixes all &quot;id&quot; attribute values with a given string.  Note that the tag and
attribute themselves must still be whitelisted.</p>
<h1 id="examples-33" class="section-header"><a href="#examples-33">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">maplit</span>;

<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">attributes</span> <span class="op">=</span> <span class="macro">hashset</span><span class="macro">!</span>[<span class="string">&quot;id&quot;</span>];
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>()
    .<span class="ident">generic_attributes</span>(<span class="ident">attributes</span>)
    .<span class="ident">id_prefix</span>(<span class="prelude-val">Some</span>(<span class="string">&quot;safe-&quot;</span>))
    .<span class="ident">clean</span>(<span class="string">&quot;&lt;b id=42&gt;&quot;</span>)
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">a</span>, <span class="string">&quot;&lt;b id=\&quot;safe-42\&quot;&gt;&lt;/b&gt;&quot;</span>);</pre>
<h1 id="defaults-9" class="section-header"><a href="#defaults-9">Defaults</a></h1>
<p><code>None</code></p>
</div><h4 id='method.new' class="method"><span id='new.v' class='invisible'><code>pub fn <a href='#method.new' class='fnname'>new</a>() -&gt; Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#1083-1085' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Constructs a <a href="struct.Builder.html"><code>Builder</code></a> instance configured with the <a href="fn.clean.html">default options</a>.</p>
<h1 id="examples-34" class="section-header"><a href="#examples-34">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::{<span class="ident">Builder</span>, <span class="ident">Url</span>, <span class="ident">UrlRelative</span>};

<span class="kw">let</span> <span class="ident">input</span> <span class="op">=</span> <span class="string">&quot;&lt;!-- comments will be stripped --&gt;This is an &lt;a href=.&gt;Ammonia&lt;/a&gt; example using &lt;a href=struct.Builder.html#method.new onclick=xss&gt;the &lt;code onmouseover=xss&gt;new()&lt;/code&gt; function&lt;/a&gt;.&quot;</span>;
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="string">&quot;This is an &lt;a href=\&quot;https://docs.rs/ammonia/1.0/ammonia/\&quot; rel=\&quot;noopener noreferrer\&quot;&gt;Ammonia&lt;/a&gt; example using &lt;a href=\&quot;https://docs.rs/ammonia/1.0/ammonia/struct.Builder.html#method.new\&quot; rel=\&quot;noopener noreferrer\&quot;&gt;the &lt;code&gt;new()&lt;/code&gt; function&lt;/a&gt;.&quot;</span>;

<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>() <span class="comment">// &lt;--</span>
    .<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">RewriteWithBase</span>(<span class="ident">Url</span>::<span class="ident">parse</span>(<span class="string">&quot;https://docs.rs/ammonia/1.0/ammonia/&quot;</span>)<span class="question-mark">?</span>))
    .<span class="ident">clean</span>(<span class="ident">input</span>)
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">result</span>, <span class="ident">output</span>);</pre>
</div><h4 id='method.clean' class="method"><span id='clean.v' class='invisible'><code>pub fn <a href='#method.clean' class='fnname'>clean</a>(&amp;self, src: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="struct" href="../ammonia/struct.Document.html" title="struct ammonia::Document">Document</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#1107-1111' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sanitizes an HTML fragment in a string according to the configured options.</p>
<h1 id="examples-35" class="section-header"><a href="#examples-35">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::{<span class="ident">Builder</span>, <span class="ident">Url</span>, <span class="ident">UrlRelative</span>};

<span class="kw">let</span> <span class="ident">input</span> <span class="op">=</span> <span class="string">&quot;&lt;!-- comments will be stripped --&gt;This is an &lt;a href=.&gt;Ammonia&lt;/a&gt; example using &lt;a href=struct.Builder.html#method.new onclick=xss&gt;the &lt;code onmouseover=xss&gt;new()&lt;/code&gt; function&lt;/a&gt;.&quot;</span>;
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="string">&quot;This is an &lt;a href=\&quot;https://docs.rs/ammonia/1.0/ammonia/\&quot; rel=\&quot;noopener noreferrer\&quot;&gt;Ammonia&lt;/a&gt; example using &lt;a href=\&quot;https://docs.rs/ammonia/1.0/ammonia/struct.Builder.html#method.new\&quot; rel=\&quot;noopener noreferrer\&quot;&gt;the &lt;code&gt;new()&lt;/code&gt; function&lt;/a&gt;.&quot;</span>;

<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>()
    .<span class="ident">url_relative</span>(<span class="ident">UrlRelative</span>::<span class="ident">RewriteWithBase</span>(<span class="ident">Url</span>::<span class="ident">parse</span>(<span class="string">&quot;https://docs.rs/ammonia/1.0/ammonia/&quot;</span>)<span class="question-mark">?</span>))
    .<span class="ident">clean</span>(<span class="ident">input</span>)
    .<span class="ident">to_string</span>(); <span class="comment">// &lt;--</span>
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">result</span>, <span class="ident">output</span>);</pre>
</div><h4 id='method.clean_from_reader' class="method"><span id='clean_from_reader.v' class='invisible'><code>pub fn <a href='#method.clean_from_reader' class='fnname'>clean_from_reader</a>&lt;R&gt;(&amp;self, src: R) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="struct" href="../ammonia/struct.Document.html" title="struct ammonia::Document">Document</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a>,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#1135-1142' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Sanitizes an HTML fragment from a reader according to the configured options.</p>
<p>The input should be in UTF-8 encoding, otherwise the decoding is lossy, just
like when using <a href="https://doc.rust-lang.org/std/string/struct.String.html#method.from_utf8_lossy"><code>String::from_utf8_lossy</code></a>.</p>
<p>To avoid consuming the reader, a mutable reference can be passed to this method.</p>
<h1 id="examples-36" class="section-header"><a href="#examples-36">Examples</a></h1>
<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">ammonia</span>::<span class="ident">Builder</span>;

<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">Builder</span>::<span class="ident">new</span>()
    .<span class="ident">clean_from_reader</span>(<span class="kw-2">&amp;</span><span class="string">b&quot;&lt;!-- no --&gt;&quot;</span>[..])<span class="question-mark">?</span> <span class="comment">// notice the `b`</span>
    .<span class="ident">to_string</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">a</span>, <span class="string">&quot;&quot;</span>);</pre>
</div></div>
            <h2 id='implementations' class='small-section-header'>
              Trait Implementations<a href='#implementations' class='anchor'></a>
            </h2>
        <h3 id='impl-Debug' class='impl'><span class='in-band'><code>impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../ammonia/struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</code><a href='#impl-Debug' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#237' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.fmt' class="method"><span id='fmt.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#237' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></div><h3 id='impl-Default' class='impl'><span class='in-band'><code>impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="../ammonia/struct.Builder.html" title="struct ammonia::Builder">Builder</a>&lt;'a&gt;</code><a href='#impl-Default' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#251-346' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.default' class="method"><span id='default.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default' class='fnname'>default</a>() -&gt; Self</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/ammonia/lib.rs.html#252-345' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns the &quot;default value&quot; for a type. <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default">Read more</a></p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt><kbd>?</kbd></dt>
                    <dd>Show this help dialog</dd>
                    <dt><kbd>S</kbd></dt>
                    <dd>Focus the search field</dd>
                    <dt><kbd>↑</kbd></dt>
                    <dd>Move up in search results</dd>
                    <dt><kbd>↓</kbd></dt>
                    <dd>Move down in search results</dd>
                    <dt><kbd>↹</kbd></dt>
                    <dd>Switch tab</dd>
                    <dt><kbd>&#9166;</kbd></dt>
                    <dd>Go to active search result</dd>
                    <dt><kbd>+</kbd></dt>
                    <dd>Expand all sections</dd>
                    <dt><kbd>-</kbd></dt>
                    <dd>Collapse all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "ammonia";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>